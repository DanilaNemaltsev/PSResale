<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="layout/layout :: head"></head>

<meta charset="UTF-8">

<body>

	<header th:replace="layout/layout :: header" class="mb-5"></header>

	<div class="container" style="margin-top: 100px;">
		<span th:text="${message}"></span>
		<div class="row justify-content-center">
			<div class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 justify-content-center">
				<div class="card" id="loginbox">
					<div class="card-header">Доступ к аккаунту</div>
					<div class="card-body">
						<form id="loginform" method="POST" th:action="@{/auth/login-post}">
							<div class="form-group">
								<label for="username">Email</label> <input
									type="email" class="form-control" id="username" name="username">
							</div>
							<div class="form-group">
								<label for="password">Пароль</label> <input
									type="password" class="form-control" id="password" name="password">
							</div>
							<div class="text-right">
								<button type="submit" class="btn btn-primary">Войти</button>
							</div>
						</form>
					</div>
					<div class="card-footer text-muted text-center">
						У вас все еще нет аккаунта? Вы можете создать его прямо сейчас
						<a href="#" onClick="$('#loginbox').hide(); $('#signupbox').show()">Нажмите здесь</a>!
					</div>
				</div>
				
				<div class="card" id="signupbox" style="display: none;">
					<div class="card-header">Создать новый аккаунт</div>
					<div class="card-body">
						<form id="signupform" method="POST" th:action="@{/auth/register}"
							enctype="multipart/form-data" th:object="${user}">
							<div class="form-group">
								<label>Email</label>
								<input type="email" class="form-control" name="email" th:field="*{email}" required>
							</div>
							<div class="form-group">
								<label>Имя</label>
								<input type="text" class="form-control" name="name" th:field="*{name}" required>
							</div>
							<div class="form-group">
								<label>Фамилия</label>
								<input type="text" class="form-control" name="email" th:field="*{lastname}" required>
							</div>
							<div class="form-group">
								<label>Пароль</label>
								<input type="password" class="form-control" name="password" th:field="*{password}" required>
							</div>
							<div class="form-group">
								<label>Изображение профиля</label>
								<input type="file" class="form-control" name="file">
							</div>
							<div class="text-right">
								<button type="submit" class="btn btn-primary">Регистрация</button>
							</div>
						</form>
					</div>
					<div class="card-footer text-muted text-center">
						<a href="" onclick="$('#signupbox').hide(); $('#loginbox').show()"
							type="button" class="btn btn-primary">
							Вернуться к форме входа
						</a>
					</div>
				</div>
			</div>
		</div>
		
	</div>

	<footer th:replace="layout/layout :: footer"></footer>

</body>
</html>